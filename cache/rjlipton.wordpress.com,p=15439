<?xml version="1.0" encoding="utf-8"?><entry xml:lang="en" xmlns="http://www.w3.org/2005/Atom" xmlns:planet="http://planet.intertwingly.net/"><id>http://rjlipton.wordpress.com/?p=15439</id><link href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/" rel="alternate" type="text/html"/><title>Far From a Turkey Shoot</title><summary>Chess and draws and explainable AI Guardian Live source Magnus Carlsen and Fabiano Caruana have drawn the first eleven games of their world championship chess match. One game of the regular match is left for Monday. If it, too, is drawn, then there will be a faster-paced tiebreaker series on Wednesday. Update 11/26: It was […]<div class="commentbar"><p/></div></summary><content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>
<font color="#0044cc"><br/>
<em>Chess and draws and explainable AI</em><br/>
<font color="#000000"/></font></p><font color="#0044cc"><font color="#000000">
<table class="image alignright">
<tbody>
<tr>
<td>
<a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/carlsencaruanaguardian/" rel="attachment wp-att-15440"><img alt="" class="alignright wp-image-15440" height="150" src="https://rjlipton.files.wordpress.com/2018/11/carlsencaruanaguardian.jpg?w=250&amp;h=150" width="250"/></a>
</td>
</tr>
<tr>
<td class="caption alignright"><font size="-2"><em>Guardian Live</em> <a href="https://www.theguardian.com/sport/live/2018/nov/24/magnus-carlsen-v-fabiano-caruana-world-chess-championship-game-11-live">source</a></font></td>
</tr>
</tbody>
</table>
<p>
Magnus Carlsen and Fabiano Caruana have drawn the first eleven games of their world championship chess match. One game of the regular match is left for Monday. If it, too, is drawn, then there will be a faster-paced tiebreaker series on Wednesday. <b>Update 11/26:</b> It was drawn.</p>
<p>
Today we discuss the match and some of its implications for computers and explanations.<br/>
<span id="more-15439"/></p>
<p>
That the match is tight is no surprise. Carlsen came in with an Elo chess rating of 2835 and Caruana with 2832. This is the smallest rating difference in world title matches since the Elo system was adopted. They also have the highest average rating. We <a href="https://rjlipton.wordpress.com/2018/03/28/is-there-momentum-in-chess/">discussed</a> last spring whether Caruana could be said to be “in form” but what is undeniable is that he has had some sensational results these past five years. With Carlsen down from his Olympian rating of 2882 in May 2014, he wore the mantle of champ but not of favorite.</p>
<p>
So no one expected a turkey shoot. But no one expected a record string of draws at the start of a championship match either. The only longer string has been 17 draws in the middle of the infamous marathon between Anatoly Karpov and Garry Kasparov in 1984–85, which was aborted after 48 games. Expenses and the speed of life do not allow such long matches anymore, so if neither player grabs the crown tomorrow, Wednesday will bring the icosiad to a definite close. <em>Icosiad</em>, from Greek for “twenty,” is my attempt at a word for “three-week fortnight”—though Donald Knuth <a href="http://large-numbers.wikia.com/wiki/Novemdecillion">used</a> the word to mean <img alt="{10^{60}}" class="latex" src="https://s0.wp.com/latex.php?latex=%7B10%5E%7B60%7D%7D&amp;bg=ffffff&amp;fg=000000&amp;s=0" title="{10^{60}}"/>. It is neat to see chess push elections, politics, and sports completely below the fold at <a href="https://fivethirtyeight.com/">FiveThirtyEight</a>:</p>
<p><a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/fivethirtyeightchess/" rel="attachment wp-att-15441"><img alt="" class="aligncenter wp-image-15441" height="250" src="https://rjlipton.files.wordpress.com/2018/11/fivethirtyeightchess.png?w=250&amp;h=250" width="250"/></a></p>
<p>
</p><p/><h2> The Play </h2><p/>
<p/><p>
Most of the games have been hard fought and not boring. Both players have had chances to win several games. Carlsen was by all accounts “completely winning” in game 1 but sold himself short in the moves before the turn-40 time control. He tried to convert a one-pawn advantage for 75 more moves but there is a reason for the <a href="https://en.wikipedia.org/wiki?title=Talk:Chess_endgame#%22All_rook_endings_are_drawn%22">proverb</a>, “All rook endings are drawn.” In game 6, Caruana had a technically winning position but only by means neither player suspected—we will discuss this more below. In games 8 and 9 both players spoiled chances, first Caruana by a timid pawn move h2-h3?, then Carlsen by a rash advance h4-h5? </p>
<p>
Despite these chances given and missed and some other moves that both humans and computers would mark ‘?!’ for “dubious,” the standard has been high. My chess model, which I discussed again recently in a <a href="https://rjlipton.wordpress.com/2018/10/18/london-calling/">preview</a> of the match, gives a rating of <b>2875 +- 80</b> for the quality through 11 games. It gives Carlsen an “Intrinsic Performance Rating” (IPR) of <b>2895 +- 105</b>, Caruana <b>2860 +- 125</b>. (<b>Update 11/26:</b> After the 12 regulation games, Calrsen <b>2880 +- 105</b>, Caruana <b>2850 +- 125</b>, combined <b>2865 +- 80</b>. Compare historical IPR data <a href="https://cse.buffalo.edu/~regan/papers/pdf/Reg12IPRs.pdf">here</a>.)  It is well within the margin of error to say that they have been playing at equal level and each has brought his “A-game.” </p>
<p>
My IPRs are still primarily measures of <em>accuracy</em>. I have <a href="https://rjlipton.wordpress.com/2018/09/07/sliding-scale-problems/">written</a> <a href="https://rjlipton.wordpress.com/2017/05/23/stopped-watches-and-data-analytics/">several</a> <a href="https://rjlipton.wordpress.com/2016/11/08/unskewing-the-election/">posts</a> <a href="https://rjlipton.wordpress.com/2015/10/06/depth-of-satisficing/">explaining</a> difficulties encountered in trying to extend the model to measure <em>challenge created</em>. The drawn results notwithstanding, both players have shown enterprise and shouldered risk.</p>
<p>
Yesterday’s <a href="https://www.theguardian.com/sport/2018/nov/24/world-chess-championship-game-11-carlsen-caruana">game</a>, however, was an exception. Carlsen as White played in to an early trade of queens, which was soon followed by “hoovering” all the pieces except a pair of opposite-colored Bishops. Those tend to draws so strongly that Caruana could afford to shed a pawn to block White’s play on the queenside, and then only needed to know “one trick” to hold White off on the kingside. </p>
<p>
I agree with those saying Carlsen is angling for the playoff for reasons similar to what was said about Carlsen’s anodyne play as White in the final regular game of the tied match against Karjakin two years ago: A four-game playoff affords time to recover if a risk goes awry in the first game, whereas tomorrow’s winner-takes-all conditions do not. Moreover, I perceive impetus to maximize the <i>time of staying in contention</i> over the <i>chance of winning</i>. This is similar to why in NFL football there is less <a href="https://en.wikipedia.org/wiki/Regret_(decision_theory)">regret</a> in kicking an extra point to tie rather than the win-or-lose option of going for two, even though the NFL recently made extra points more difficult so that going for the abrupt end brings better <a href="https://fivethirtyeight.com/features/more-nfl-teams-are-going-for-two-just-as-they-should-be/">odds</a>. </p>
<p>
Still, a difference from 2016 is that Carlsen has Black in tomorrow’s 12th game. Will Caruana try to force the issue, and will the champion face a comeuppance? We will see. Carlsen was rightly considered the heavy favorite in the 2016 tiebreaks, and my own IPR measurements <a href="https://rjlipton.wordpress.com/2016/12/08/magnus-and-the-turkey-grinder/">showed</a> no dropoff in his quality at the faster pace. My own opinion is that the tiebreaker chances would be as even as the match so far.</p>
<p>
<b>Update 11/26:</b> Caruana did repeat his “fighting” opening from previous games but got outplayed in moves 15–24.  Then Carlsen by his <a href="https://www.youtube.com/watch?v=d4LEBHj6lW4&amp;feature=youtu.be&amp;fbclid=IwAR3NZhLW73JSioMT3KoBMgIVg_aP4X0lBow2J4-JegnGWPyLmY99AiLn3hY">own account</a> took his foot off the pedal and invited the tiebreaks.  What I already wrote above is consistent with Kasparov’s <a href="https://twitter.com/Kasparov63/status/1067125702712004609">take</a>.  (Incidentally, when twelve straight strikes occur in bowling, the last three are called a “turkey.”)</p>
<p/><h2> Endgames and Engines and Explanations </h2><p/>
<p/><p>
Here is the “one trick” from the end of yesterday’s game. White has just played <b>51.f2-f4</b> with the obvious intent of 52.f4-f5 to disturb Black’s pawns.</p>
<p><a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/carlsencaruanag11/" rel="attachment wp-att-15442"><img alt="" class="aligncenter wp-image-15442" height="250" src="https://rjlipton.files.wordpress.com/2018/11/carlsencaruanag11.png?w=250&amp;h=250" width="250"/></a></p>
<p>
A natural reaction would be for Black to play his bishop to e6 to cover the f5 square a second time. But this is the one thing Black must not do. White plays 52.f4-f5! all the same. If Black captures with the pawn, 52…g6xf5, White’s h-pawn has a clear path to queening on h8 after 53.h4-h5. If Black captures with the bishop, 52…Be6xf5, White has 53.h4-h5! anyway. Black cannot capture the pawn on pain of unguarding the bishop, so White’s pawn will run free. Black can resist by 53…Bf5-c2 54. h5-h6 g6-g5 to stop 55.h6-h7 right away, but White has the pleasant choice of 55.Kg7 when the bishop will be lost or feasting on Black’s pawns by 55.Kxg5 or 55.Kxf7 first. </p>
<p>
Instead, Caruana calmly tacked with <b>51…Bb3-a2</b> and the trick (after a switchback feint 52.Kf6-e7 Ba2-be 53.Ke7-f6 Ba2-b3) was <b>54. f4-f5 Ba2-b1!</b> Now after 55.Kf6xf7 Bb1xf5, White’s king is no longer touching Black’s bishop so there is no sting in 56.h4-h5, while after 55.f5xg6, Black’s bishop supports recapturing with the pawn on f7 to hold the fort. Carlsen tried <b>55.Bf2</b> and again Black must resist temptation to take on f5. Caruana played <b>55…Bc2!</b> and they shook hands for the draw.</p>
<p>
Not only does this explain the draw in the diagrammed position, it turns aside what was really White’s only winning try in the whole endgame from a dozen moves back. Thus it suffices as a humanly-understood explanation of the whole endgame. Master annotators <a href="https://en.chessbase.com/post/world-championship-2018-game-11">at</a> <a href="https://www.chess.com/news/view/world-chess-championship-game-11-good-preparation-gives-caruana-easy-draw-in-petroff">several</a> <a href="https://chess24.com/en/read/news/carlsen-caruana-11-cold-hard-facts">commentary</a> <a href="http://www.thechessmind.net/blog/2018/11/24/world-championship-game-11-draw-11.html">websites</a> have not felt a need to say anything more. </p>
<p>
The sixth game, however, brought an announcement of checkmate that no one alive saw coming:</p>
<p><a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/carlsencaruanag6/" rel="attachment wp-att-15443"><img alt="" class="aligncenter wp-image-15443" height="250" src="https://rjlipton.files.wordpress.com/2018/11/carlsencaruanag6.png?w=250&amp;h=250" width="250"/></a></p>
<p>
It came from a supercomputer named <a href="https://www.sesse.net/">Sesse</a> running the chess <em>engine</em> <a href="https://stockfishchess.org/">Stockfish</a>: Black has <a href="https://twitter.com/ollie/status/1063538994955337729">checkmate in 36</a> moves beginning <b>68…Bg5-h4!</b> At first this looks suicidal since after 69.h5-h6 Black’s king is cut off and his knight and bishop look far from stopping the pawn. But after 69…Nd4-f3 (or 69…Nd4-c6) 70.h6-h7 Nf3-e5+ 71.Kg6-h6 Bg5+, White’s king is evicted and after 72.Kh6-h5 Kf8-g7 73.Bc4-g8 Kg7-h8, the compulsion to move (called <em>Zugzwang</em>) forces White to unguard the pawn since his king is frozen. </p>
<p>
So White covers the c6 and f3 squares by <b>69.Bc4-d5</b> and after <b>69…Nd4-e2</b> both guards his h-pawn and puts a question to Black’s knight by <b>70.Bd5-f3</b>. Now if you haven’t already heard about this, see if you can not only come up with Black’s winning move but the plan of <em>why</em> it works:</p>
<p><a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/carlsencaruanag6m70/" rel="attachment wp-att-15444"><img alt="" class="aligncenter wp-image-15444" height="250" src="https://rjlipton.files.wordpress.com/2018/11/carlsencaruanag6m70.png?w=250&amp;h=250" width="250"/></a></p>
<p>
Besides looking below, you can find the answer <a href="https://twitter.com/Kasparov63/status/1063576827850096640">here</a> where Garry Kasparov opines:</p>
<blockquote><p>
“[H]ad Caruana played the incredible [moves], they would request metal detectors immediately! No human being can willingly [play] like that.”
</p></blockquote>
<p>
AlphaZero <a href="https://chess24.com/en/read/news/alphazero-on-carlsen-caruana-games-1-8">reportedly</a> did not see the mate either.</p>
<p/><h2> Computer-Assisted Explanations </h2><p/>
<p/><p>
Marc Rotenberg, who is the president and executive director of the Electronic Privacy Information Center (<a href="https://epic.org/">EPIC</a>) in Washington, D.C., <a href="https://www.facebook.com/marc.rotenberg/posts/10155722912611875?hc_location=ufi">voiced</a> a further opinion of wider import:</p>
<blockquote><p> <em> Last week in London, I reported from the World Chess Championship (WCC) that computers are very good at telling you what to do, just not so good at telling you why to do it. That is now clear after the remarkable game 6 (2018/6) which found Caruana with a winning position that no human player could pursue, and a computer solution that no human player could comprehend…Of course, the discussions about computers and chess have been ongoing for many years. But there is a greater relevance today. With many governments now thinking broadly about the implications of AI for social and economic policy…I would like to suggest WCC 2018/6 is a cautionary lesson, an example of a solution we could not find, but also one we may not understand. </em>
</p></blockquote>
<p/><p>
There is however a further wrinkle, which is that <em>computers can help us generate humanly understandable explanations</em>. I believe this is a case in point—not only to explain why Black wins here but also how and why White was safe until voluntarily moving the king from h7 to g6 at turn 67. The first point of <b>70…Nf3-g1!!</b> is to buy time after 71.Bf3-g4 Kf8-g8! to block White’s h-pawn. Owing to <em>Zugzwang</em>, White must either cede ground or release the trapped knight, both of which are fatal. White can head off Black’s king by 71.Bf3-d5 instead, but 71…Bh4-g5! wrong-foots White: 72.Kg6-h7 Ng1-e2 and a fork will come on g3 or f4; or 72.Bd5-c4 Ng1-h3! 73.Kg6-h7 Nh3-f4 and White’s bishop is boxed out of e2, so White’s h-pawn must come forward to its eventual doom. </p>
<p>
As for the way to draw, the main insight is that White’s king must keep Black’s king out of the corner. In the game, Caruana worked to bring his king to the center—as human players find natural—but the first key to the draw is that White struck back with his h-pawn in time. My analysis gives this as a pivotal position:</p>
<p><a href="https://rjlipton.wordpress.com/2018/11/25/far-from-a-turkey-shoot/carlsencaruanag6hold/" rel="attachment wp-att-15445"><img alt="" class="aligncenter wp-image-15445" height="250" src="https://rjlipton.files.wordpress.com/2018/11/carlsencaruanag6hold.png?w=250&amp;h=250" width="250"/></a></p>
<p>
White must play <b>Kh7-h8!</b> The second and third keys to “why?” are holding the corner and keeping Black’s knight from reaching e2, from which it has a g3-or-f4 option that White cannot cover. Now I must admit that my identifying these three keys as <em>the</em> explanation of how to draw rests on some hours of exploration with multiple chess engines to satisfy myself that no loopholes exist—no incredible maneuvers that can stretch White beyond breaking. Technically, I should generate a “proof by corresponding squares”—to the rigor of <a href="https://cse.buffalo.edu/~regan/chess/GK-ROW/PositionG.html">this one</a> I did for the famous Kasparov-World 1999 Internet Match—that White can always cover all threats. But I am quite convinced that the chess content does not go too far beyond this explanation, and my <a href="https://www.chess.com/news/view/world-chess-championship-game-6-caruana-misses-nearly-impossible-win">fellow</a> <a href="https://youtu.be/XVowybk-GmE?t=2200">master</a> <a href="https://chess24.com/en/read/news/carlsen-caruana-6-fabi-close-in-80-move-thriller">annotators</a> <a href="https://en.chessbase.com/post/world-championship-2018-game-6">rested</a> <a href="http://view.chessbase.com/cbreader/2018/11/17/Game162005343.html">their</a> <a href="https://www.chess.com/video/player/2018-world-championship-game-6-analysis-yermo">cases</a> similarly. </p>
<p>
I did that 1999 analysis without computer aid and that proof was later upheld 100% by the compilation of exhaustive 6-piece tables. Now I would not be able to spare time for a proof without computers. I did not however simply take a verdict from the computer running unaided. I used the computer to explore options until I was humanly satisfied that everything important had been checked. Thus I offer WCC 2018 game 6 as an example of using computers to establish human explanations on sure ground.  Explanations gleaned from <a href="https://rjlipton.wordpress.com/2010/05/12/can-we-solve-chess-one-day/">exhaustively</a> <a href="https://rjlipton.wordpress.com/2010/05/20/sorting-out-chess-endgames/">tabled</a> endgames appear in <a href="https://www.amazon.com/Understanding-Chess-Endgames-John-Nunn/dp/1906454116/">several</a> <a href="https://www.amazon.com/Nunns-Chess-Endings-John-Nunn/dp/1906454213">books</a> <a href="https://www.amazon.com/Nunns-Chess-Endings-John-Nunn/dp/190645423X/">by</a> John Nunn, a <a href="https://www.amazon.com/Understanding-Minor-Piece-Endgames/dp/1941270786/">similar</a> <a href="https://www.amazon.com/Understanding-Rook-Endgames-Karsten-Muller/dp/1910093815/">series</a> by Karsten Müller and tablebase compiler Yakov Koneval, and for two extreme 7-piece endgames in the <a href="https://chessbookreviews.wordpress.com/tag/stinking-bishops-roycroft/">book</a> <i>Stinking Bishops</i> by the British endgame problemist John Roycroft.</p>
<p>
</p><p/><h2> Open Problems </h2><p/>
<p/><p>
Who will win the match? Will either player take risks to try to win tomorrow’s game? Or are we set for a playoff? It is worth noting that if the players keep drawing even through faster and faster tiebreak games a winner will still be declared in a final-game with so-called <a href="https://www.theguardian.com/sport/2018/nov/23/armageddon-carlsen-caruana-chess-game-10">Armageddon</a> rules, whereby White gets more time but a draw on the board is a victory for Black.</p>
<p>
How can computers be made to help with explanations as much as they may race beyond them?</p>
<p/><p><br/>
[added links for Game 6 analysis, mention of AlphaZero, books on chess endgames, and some other minor word fixes and changes, updated for the game 12 draw.]</p></font></font></div></content><updated planet:format="November 26, 2018 04:58 AM">2018-11-26T04:58:07Z</updated><published planet:format="November 26, 2018 04:58 AM">2018-11-26T04:58:07Z</published><category term="All Posts"/><category term="chess"/><category term="News"/><category term="Proofs"/><category term="Teaching"/><category term="trick"/><category term="chess computer chess"/><category term="explainable AI"/><category term="Fabiano Caruana"/><category term="Garry Kasparov"/><category term="Magnus Carlsen"/><category term="Marc Rotenberg"/><category term="world championship match"/><author><name>KWRegan</name></author><source><id>https://rjlipton.wordpress.com</id><logo>https://s0.wp.com/i/buttonw-com.png</logo><link href="https://rjlipton.wordpress.com/feed/" rel="self" type="application/atom+xml"/><link href="https://rjlipton.wordpress.com" rel="alternate" type="text/html"/><link href="https://rjlipton.wordpress.com/osd.xml" rel="search" type="application/opensearchdescription+xml"/><link href="https://rjlipton.wordpress.com/?pushpress=hub" rel="hub" type="text/html"/><subtitle>a personal view of the theory of computation</subtitle><title>Gödel’s Lost Letter and P=NP</title><updated planet:format="December 17, 2018 05:29 AM">2018-12-17T05:29:27Z</updated><planet:module>toc</planet:module><planet:format>atom10</planet:format><planet:http_last_modified>Sat, 15 Dec 2018 18:49:29 GMT</planet:http_last_modified><planet:bozo>false</planet:bozo><planet:items_per_page>40</planet:items_per_page><planet:css-id>richard-lipton</planet:css-id><planet:face>lipton.jpeg</planet:face><planet:name>Richard Lipton</planet:name><planet:http_location>https://rjlipton.wordpress.com/feed/</planet:http_location><planet:http_status>301</planet:http_status></source></entry>
